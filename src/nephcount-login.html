<link rel="import" href="../bower_components/polymerfire/firebase-auth.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<dom-module id="nephcount-login">
<template>
    <firebase-auth
       app-name="nephcount"
       id="auth" 
       user="{{user}}" 
       provider="google" 
       status-known="{{statusKnown}}">
    </firebase-auth>
   
    <template is="dom-if" if="[[user]]">
       <h1>Welcome [[user.displayName]]</h1>
    </template>
    
    <paper-button raised on-tap="login" hidden$="[[user]]">Sign In</paper-button>
    <paper-button raised on-tap="logout" hidden$="[[!user]]">Sign Out</paper-button>
    </template>
    
    <script>
      Polymer({
          is: 'nephcount-login',
          properties: {
              user: {
                  type: Object
              },
              statusKnown: {
                  type: Object
              }
          },
          login:  function() {
              this.$.auth.signInWithPopup();
          },
          logout: function() {
              this.$.auth.signOut();
          }
      });
    </script>

</dom-module>


